function browsers(){var pageHtml=document.querySelector("html");/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&pageHtml.classList.add("ios"),{matchGroups:[[{uaString:"win",className:"win"},{uaString:"mac",className:"mac"},{uaString:"android",className:"android"},{uaString:"linux",className:"linux"}],[{uaString:"msie",className:"trident"},{uaString:"applewebkit",className:"webkit"},{uaString:"gecko",className:"gecko"},{uaString:"opera",className:"presto"}],[{uaString:"msie 10.0",className:"ie10"},{uaString:"firefox",className:"firefox"},{uaString:"opera",className:"opera"},{uaString:"chrome",className:"chrome"},{uaString:"safari",className:"safari"},{uaString:"unknown",className:"unknown"}]],init:function(){return{det:this.detect(),ts:this}},addClass:function(a){this.pageHolder={doc:document.documentElement,cl:document.documentElement.className+=" "+a}},detect:function(){for(var a,s=0;s<this.matchGroups.length;s++){a=this.matchGroups[s];for(var e,i=0;i<a.length;i++)if(e=a[i]||"string"==typeof e.uaString){if(this.uaMatch(e.uaString)){this.addClass(e.className);break}}else{for(var t=0,r=!0;t<e.uaString.length;t++)if(!this.uaMatch(e.uaString[t])){r=!1;break}if(r){this.addClass(e.className);break}}}},uaMatch:function(a){return this.ua||(this.ua=navigator.userAgent.toLowerCase()),-1!==this.ua.indexOf(a)}}.init();var retina=1<window.devicePixelRatio?"retina":"no-retina";pageHtml.classList.add(retina),pageHtml.classList.contains("ios")||pageHtml.classList.contains("android")?pageHtml.classList.add("mobile"):pageHtml.classList.add("desktop")}var tns=function(){function extend(){for(var obj,name,copy,target=arguments[0]||{},i=1,length=arguments.length;i<length;i++)if(null!==(obj=arguments[i]))for(name in obj)target!==(copy=obj[name])&&void 0!==copy&&(target[name]=copy);return target}function checkStorageValue(value){return 0<=["true","false"].indexOf(value)?JSON.parse(value):value}function setLocalStorage(key,value,access){return access&&localStorage.setItem(key,value),value}function getBody(){var doc=document,body=doc.body;return body||((body=doc.createElement("body")).fake=!0),body}Object.keys||(Object.keys=function(object){var keys=[];for(var name in object)Object.prototype.hasOwnProperty.call(object,name)&&keys.push(name);return keys}),function(){"use strict";"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)})}();var docElement=document.documentElement;function setFakeBody(body){var docOverflow="";return body.fake&&(docOverflow=docElement.style.overflow,body.style.background="",body.style.overflow=docElement.style.overflow="hidden",docElement.appendChild(body)),docOverflow}function resetFakeBody(body,docOverflow){body.fake&&(body.remove(),docElement.style.overflow=docOverflow,docElement.offsetHeight)}function addCSSRule(sheet,selector,rules,index){"insertRule"in sheet?sheet.insertRule(selector+"{"+rules+"}",index):sheet.addRule(selector,rules,index)}function getCssRulesLength(sheet){return("insertRule"in sheet?sheet.cssRules:sheet.rules).length}function hasClass(el,str){return 0<=el.className.indexOf(str)}function addClass(el,str){hasClass(el,str)||(el.className+=" "+str)}function removeClass(el,str){hasClass(el,str)&&(el.className=el.className.replace(str,""))}function hasAttr(el,attr){return el.hasAttribute(attr)}function isNodeList(el){return void 0!==el.item}function setAttrs(els,attrs){if(els=isNodeList(els)||els instanceof Array?els:[els],"[object Object]"===Object.prototype.toString.call(attrs))for(var i=els.length;i--;)for(var key in attrs)els[i].setAttribute(key,attrs[key])}function removeAttrs(els,attrs){els=isNodeList(els)||els instanceof Array?els:[els];for(var attrLength=(attrs=attrs instanceof Array?attrs:[attrs]).length,i=els.length;i--;)for(var j=attrLength;j--;)els[i].removeAttribute(attrs[j])}function removeElementStyles(el){el.style.cssText=""}function hideElement(el){hasAttr(el,"hidden")||setAttrs(el,{hidden:""})}function showElement(el){hasAttr(el,"hidden")&&removeAttrs(el,"hidden")}function isVisible(el){return 0<el.offsetWidth&&0<el.offsetHeight}function whichProperty(props){for(var el=document.createElement("fakeelement"),i=(props.length,0);i<props.length;i++){var prop=props[i];if(void 0!==el.style[prop])return prop}return!1}function getEndProperty(propIn,propOut){var endProp=!1;return/^Webkit/.test(propIn)?endProp="webkit"+propOut+"End":/^O/.test(propIn)?endProp="o"+propOut+"End":propIn&&(endProp=propOut.toLowerCase()+"end"),endProp}var supportsPassive=!1;try{var opts=Object.defineProperty({},"passive",{get:function(){supportsPassive=!0}});window.addEventListener("test",null,opts)}catch(e){}var passiveOption=!!supportsPassive&&{passive:!0};function addEvents(el,obj){for(var prop in obj){var option=("touchstart"===prop||"touchmove"===prop)&&passiveOption;el.addEventListener(prop,obj[prop],option)}}function removeEvents(el,obj){for(var prop in obj){var option=0<=["touchstart","touchmove"].indexOf(prop)&&passiveOption;el.removeEventListener(prop,obj[prop],option)}}function Events(){return{topics:{},on:function(eventName,fn){this.topics[eventName]=this.topics[eventName]||[],this.topics[eventName].push(fn)},off:function(eventName,fn){if(this.topics[eventName])for(var i=0;i<this.topics[eventName].length;i++)if(this.topics[eventName][i]===fn){this.topics[eventName].splice(i,1);break}},emit:function(eventName,data){this.topics[eventName]&&this.topics[eventName].forEach(function(fn){fn(data)})}}}var browserInfo=navigator.userAgent,localStorageAccess=!0,tnsStorage={};try{(tnsStorage=localStorage).tnsApp&&tnsStorage.tnsApp!==browserInfo&&["tC","tSP","tMQ","tTf","tTDu","tTDe","tADu","tADe","tTE","tAE"].forEach(function(item){tnsStorage.removeItem(item)}),tnsStorage.tnsApp=browserInfo}catch(e){localStorageAccess=!1}localStorage||(tnsStorage={});var doc=document,win=window,KEYS_ENTER=13,KEYS_SPACE=32,KEYS_PAGEUP=33,KEYS_PAGEDOWN=34,KEYS_END=35,KEYS_HOME=36,KEYS_LEFT=37,KEYS_UP=38,KEYS_RIGHT=39,KEYS_DOWN=40,CALC=checkStorageValue(tnsStorage.tC)||setLocalStorage("tC",function(){var doc=document,body=getBody(),docOverflow=setFakeBody(body),div=doc.createElement("div"),result=!1;body.appendChild(div);try{for(var val,vals=["calc(10px)","-moz-calc(10px)","-webkit-calc(10px)"],i=0;i<3;i++)if(val=vals[i],div.style.width=val,10===div.offsetWidth){result=val.replace("(10px)","");break}}catch(e){}return body.fake?resetFakeBody(body,docOverflow):div.remove(),result}(),localStorageAccess),SUBPIXEL=checkStorageValue(tnsStorage.tSP)||setLocalStorage("tSP",function(){var child2,supported,doc=document,body=getBody(),docOverflow=setFakeBody(body),parent=doc.createElement("div"),child1=doc.createElement("div");return parent.style.cssText="width: 10px",child1.style.cssText="float: left; width: 5.5px; height: 10px;",child2=child1.cloneNode(!0),parent.appendChild(child1),parent.appendChild(child2),body.appendChild(parent),supported=child1.offsetTop!==child2.offsetTop,body.fake?resetFakeBody(body,docOverflow):parent.remove(),supported}(),localStorageAccess),CSSMQ=checkStorageValue(tnsStorage.tMQ)||setLocalStorage("tMQ",function(){var position,doc=document,body=getBody(),docOverflow=setFakeBody(body),div=doc.createElement("div"),style=doc.createElement("style"),rule="@media all and (min-width:1px){.tns-mq-test{position:absolute}}";return style.type="text/css",div.className="tns-mq-test",body.appendChild(style),body.appendChild(div),style.styleSheet?style.styleSheet.cssText=rule:style.appendChild(doc.createTextNode(rule)),position=window.getComputedStyle?window.getComputedStyle(div).position:div.currentStyle.position,body.fake?resetFakeBody(body,docOverflow):div.remove(),"absolute"===position}(),localStorageAccess),TRANSFORM=checkStorageValue(tnsStorage.tTf)||setLocalStorage("tTf",whichProperty(["transform","WebkitTransform","MozTransform","msTransform","OTransform"]),localStorageAccess),TRANSITIONDURATION=checkStorageValue(tnsStorage.tTDu)||setLocalStorage("tTDu",whichProperty(["transitionDuration","WebkitTransitionDuration","MozTransitionDuration","OTransitionDuration"]),localStorageAccess),TRANSITIONDELAY=checkStorageValue(tnsStorage.tTDe)||setLocalStorage("tTDe",whichProperty(["transitionDelay","WebkitTransitionDelay","MozTransitionDelay","OTransitionDelay"]),localStorageAccess),ANIMATIONDURATION=checkStorageValue(tnsStorage.tADu)||setLocalStorage("tADu",whichProperty(["animationDuration","WebkitAnimationDuration","MozAnimationDuration","OAnimationDuration"]),localStorageAccess),ANIMATIONDELAY=checkStorageValue(tnsStorage.tADe)||setLocalStorage("tADe",whichProperty(["animationDelay","WebkitAnimationDelay","MozAnimationDelay","OAnimationDelay"]),localStorageAccess),TRANSITIONEND=checkStorageValue(tnsStorage.tTE)||setLocalStorage("tTE",getEndProperty(TRANSITIONDURATION,"Transition"),localStorageAccess),ANIMATIONEND=checkStorageValue(tnsStorage.tAE)||setLocalStorage("tAE",getEndProperty(ANIMATIONDURATION,"Animation"),localStorageAccess);CSSMQ||(SUBPIXEL=!1);var tns=function(options){options=extend({container:doc.querySelector(".slider"),mode:"carousel",axis:"horizontal",items:1,gutter:0,edgePadding:0,fixedWidth:!1,slideBy:1,controls:!0,controlsText:["prev","next"],controlsContainer:!1,nav:!0,navContainer:!1,navAsThumbnails:!1,arrowKeys:!1,speed:300,autoplay:!1,autoplayTimeout:5e3,autoplayDirection:"forward",autoplayText:["start","stop"],autoplayHoverPause:!1,autoplayButton:!1,autoplayButtonOutput:!0,autoplayResetOnVisibility:!0,loop:!0,rewind:!1,autoHeight:!1,responsive:!1,lazyload:!1,touch:!0,mouseDrag:!1,nested:!1,freezable:!0,onInit:!1},options||{}),["container","controlsContainer","navContainer","autoplayButton"].forEach(function(item){"string"==typeof options[item]&&(options[item]=doc.querySelector(options[item]))});var supportConsoleWarn=win.console&&"function"==typeof win.console.warn;if(options.container&&options.container.nodeName){if(!(options.container.children.length<2)){if(options.responsive){var resTem={},res=options.responsive;for(var key in res){var val=res[key];resTem[key]="number"==typeof val?{items:val}:val}options.responsive=resTem,resTem=null,0 in options.responsive&&delete(options=extend(options,options.responsive[0])).responsive[0]}var carousel="carousel"===options.mode;if(!carousel){options.axis="horizontal",options.rewind=!1,options.loop=!0,options.edgePadding=!1;var animateIn="tns-fadeIn",animateOut="tns-fadeOut",animateDelay=!1,animateNormal=options.animateNormal||"tns-normal";TRANSITIONEND&&ANIMATIONEND&&(animateIn=options.animateIn||animateIn,animateOut=options.animateOut||animateOut,animateDelay=options.animateDelay||animateDelay)}var vpInner,isOn,horizontal="horizontal"===options.axis,outerWrapper=doc.createElement("div"),innerWrapper=doc.createElement("div"),container=options.container,containerParent=container.parentNode,slideItems=container.children,slideCount=slideItems.length,vpOuter=getViewportWidth(containerParent),responsive=options.responsive,responsiveItems=[],breakpoints=!1,breakpointZone=0,windowWidth=getWindowWidth();if(responsive){(breakpoints=Object.keys(responsive).map(function(x){return parseInt(x)}).sort(function(a,b){return a-b})).forEach(function(bp){responsiveItems=responsiveItems.concat(Object.keys(responsive[bp]))});var arr=[];responsiveItems.forEach(function(item){arr.indexOf(item)<0&&arr.push(item)}),responsiveItems=arr,setBreakpointZone()}var slideOffsetTops,resizeTimer,touchedOrDraged,frozen,id,media,style,items=getOption("items"),slideBy="page"===getOption("slideBy")?items:getOption("slideBy"),nested=options.nested,gutter=getOption("gutter"),edgePadding=getOption("edgePadding"),fixedWidth=getOption("fixedWidth"),arrowKeys=getOption("arrowKeys"),speed=getOption("speed"),rewind=options.rewind,loop=!rewind&&options.loop,autoHeight=getOption("autoHeight"),sheet=(style=document.createElement("style"),media&&style.setAttribute("media",media),document.querySelector("head").appendChild(style),style.sheet?style.sheet:style.styleSheet),lazyload=options.lazyload,slideItemsOut=[],cloneCount=loop?2*slideCount:0,slideCountNew=carousel?slideCount+2*cloneCount:slideCount+cloneCount,hasRightDeadZone=!(!fixedWidth||loop||edgePadding),updateIndexBeforeTransform=!carousel||!loop,transformAttr=horizontal?"left":"top",transformPrefix="",transformPostfix="",startIndex=getOption("startIndex"),index=startIndex?function(indexTem){(indexTem%=slideCount)<0&&(indexTem+=slideCount);return indexTem=Math.min(indexTem,slideCountNew-items)}(startIndex):carousel?cloneCount:0,indexCached=index,indexMin=0,indexMax=slideCountNew-items,running=!1,onInit=options.onInit,events=new Events,containerIdCached=container.id,classContainer=" tns-slider tns-"+options.mode,slideId=container.id||(id=window.tnsId,window.tnsId=id?id+1:1,"tns"+window.tnsId),disable=getOption("disable"),freezable=options.freezable,freeze=!!disable||!!freezable&&slideCount<=items,importantStr="inner"===nested?" !important":"",controlsEvents={click:onControlsClick,keydown:function(e){switch((e=e||win.event).keyCode){case KEYS_LEFT:case KEYS_UP:case KEYS_PAGEUP:prevButton.disabled||onControlsClick(e,-1);break;case KEYS_RIGHT:case KEYS_DOWN:case KEYS_PAGEDOWN:nextButton.disabled||onControlsClick(e,1);break;case KEYS_HOME:goTo(0,e);break;case KEYS_END:goTo(slideCount-1,e)}}},navEvents={click:function(e){if(!running){for(var target=(e=e||win.event).target||e.srcElement;target!==navContainer&&!hasAttr(target,"data-nav");)target=target.parentNode;hasAttr(target,"data-nav")&&goTo(navClicked=[].indexOf.call(navItems,target),e)}},keydown:function(e){var curElement=doc.activeElement;if(!hasAttr(curElement,"data-nav"))return;var code=(e=e||win.event).keyCode,navIndex=[].indexOf.call(navItems,curElement),len=visibleNavIndexes.length,current=visibleNavIndexes.indexOf(navIndex);options.navContainer&&(len=slideCount,current=navIndex);function getNavIndex(num){return options.navContainer?num:visibleNavIndexes[num]}switch(code){case KEYS_LEFT:case KEYS_PAGEUP:0<current&&setFocus(navItems[getNavIndex(current-1)]);break;case KEYS_UP:case KEYS_HOME:0<current&&setFocus(navItems[getNavIndex(0)]);break;case KEYS_RIGHT:case KEYS_PAGEDOWN:current<len-1&&setFocus(navItems[getNavIndex(current+1)]);break;case KEYS_DOWN:case KEYS_END:current<len-1&&setFocus(navItems[getNavIndex(len-1)]);break;case KEYS_ENTER:case KEYS_SPACE:goTo(navClicked=navIndex,e)}}},hoverEvents={mouseover:function(){animating&&(stopAutoplayTimer(),autoplayHoverPaused=!0)},mouseout:function(){autoplayHoverPaused&&(setAutoplayTimer(),autoplayHoverPaused=!1)}},visibilityEvent={visibilitychange:function(){doc.hidden?animating&&(stopAutoplayTimer(),autoplayVisibilityPaused=!0):autoplayVisibilityPaused&&(setAutoplayTimer(),autoplayVisibilityPaused=!1)}},docmentKeydownEvent={keydown:function(e){switch((e=e||win.event).keyCode){case KEYS_LEFT:onControlsClick(e,-1);break;case KEYS_RIGHT:onControlsClick(e,1)}}},touchEvents={touchstart:onTouchOrMouseStart,touchmove:onTouchOrMouseMove,touchend:onTouchOrMouseEnd,touchcancel:onTouchOrMouseEnd},dragEvents={mousedown:onTouchOrMouseStart,mousemove:onTouchOrMouseMove,mouseup:onTouchOrMouseEnd,mouseleave:onTouchOrMouseEnd},hasControls=checkOption("controls"),hasNav=checkOption("nav"),navAsThumbnails=options.navAsThumbnails,hasAutoplay=checkOption("autoplay"),hasTouch=checkOption("touch"),hasMouseDrag=checkOption("mouseDrag"),slideActiveClass="tns-slide-active";if(hasControls)var prevButton,nextButton,prevIsButton,nextIsButton,controls=getOption("controls"),controlsText=getOption("controlsText"),controlsContainer=options.controlsContainer;if(hasNav)var navItems,nav=getOption("nav"),navContainer=options.navContainer,visibleNavIndexes=[],visibleNavIndexesCached=visibleNavIndexes,navClicked=-1,navCurrentIndex=index%slideCount,navCurrentIndexCached=navCurrentIndex,navActiveClass="tns-nav-active";if(hasAutoplay)var autoplayTimer,animating,autoplayHoverPaused,autoplayUserPaused,autoplayVisibilityPaused,autoplay=getOption("autoplay"),autoplayTimeout=getOption("autoplayTimeout"),autoplayDirection="forward"===options.autoplayDirection?1:-1,autoplayText=getOption("autoplayText"),autoplayHoverPause=getOption("autoplayHoverPause"),autoplayButton=options.autoplayButton,autoplayResetOnVisibility=getOption("autoplayResetOnVisibility"),autoplayHtmlStrings=["<span class='tns-visually-hidden'>"," animation</span>"];if(hasTouch)var translateInit,disX,disY,touch=getOption("touch"),startX=null,startY=null,moveDirectionExpected=0;if(hasMouseDrag)var mouseDrag=getOption("mouseDrag"),isDragEvent=!1;freeze&&(controls=nav=touch=mouseDrag=arrowKeys=autoplay=autoplayHoverPause=autoplayResetOnVisibility=!1),TRANSFORM&&(transformAttr=TRANSFORM,transformPrefix="translate",transformPrefix+=horizontal?"X(":"Y(",transformPostfix=")"),function(){outerWrapper.appendChild(innerWrapper),containerParent.insertBefore(outerWrapper,container),innerWrapper.appendChild(container),vpInner=getViewportWidth(innerWrapper);var classOuter="tns-outer",classInner="tns-inner",hasGutter=checkOption("gutter");if(carousel?horizontal&&(checkOption("edgePadding")||hasGutter&&!options.fixedWidth)?classOuter+=" tns-ovh":classInner+=" tns-ovh":hasGutter&&(classOuter+=" tns-ovh"),outerWrapper.className=classOuter,innerWrapper.className=classInner,innerWrapper.id=slideId+"-iw",autoHeight&&(innerWrapper.className+=" tns-ah",innerWrapper.style[TRANSITIONDURATION]=speed/1e3+"s"),""===container.id&&(container.id=slideId),classContainer+=SUBPIXEL?" tns-subpixel":" tns-no-subpixel",classContainer+=CALC?" tns-calc":" tns-no-calc",carousel&&(classContainer+=" tns-"+options.axis),container.className+=classContainer,carousel&&TRANSITIONEND){var eve={};eve[TRANSITIONEND]=onTransitionEnd,addEvents(container,eve)}classOuter=classInner=null;for(var x=0;x<slideCount;x++){(item=slideItems[x]).id||(item.id=slideId+"-item"+x),addClass(item,"tns-item"),!carousel&&animateNormal&&addClass(item,animateNormal),setAttrs(item,{"aria-hidden":"true",tabindex:"-1"})}if(loop||edgePadding){for(var fragmentBefore=doc.createDocumentFragment(),fragmentAfter=doc.createDocumentFragment(),j=cloneCount;j--;){var num=j%slideCount,cloneFirst=slideItems[num].cloneNode(!0);if(removeAttrs(cloneFirst,"id"),fragmentAfter.insertBefore(cloneFirst,fragmentAfter.firstChild),carousel){var cloneLast=slideItems[slideCount-1-num].cloneNode(!0);removeAttrs(cloneLast,"id"),fragmentBefore.appendChild(cloneLast)}}container.insertBefore(fragmentBefore,container.firstChild),container.appendChild(fragmentAfter),slideItems=container.children}for(var i=index,l=index+Math.min(slideCount,items);i<l;i++){var item;setAttrs(item=slideItems[i],{"aria-hidden":"false"}),removeAttrs(item,["tabindex"]),addClass(item,slideActiveClass),carousel||(item.style.left=100*(i-index)/items+"%",addClass(item,animateIn),removeClass(item,animateNormal))}if(carousel&&horizontal&&(SUBPIXEL?(addCSSRule(sheet,"#"+slideId+" > .tns-item","font-size:"+win.getComputedStyle(slideItems[0]).fontSize+";",getCssRulesLength(sheet)),addCSSRule(sheet,"#"+slideId,"font-size:0;",getCssRulesLength(sheet))):[].forEach.call(slideItems,function(slide,i){slide.style.marginLeft=function(i){return CALC?CALC+"("+100*i+"% / "+slideCountNew+")":100*i/slideCountNew+"%"}(i)})),CSSMQ){var str=getInnerWrapperStyles(options.edgePadding,options.gutter,options.fixedWidth);addCSSRule(sheet,"#"+slideId+"-iw",str,getCssRulesLength(sheet)),carousel&&horizontal&&(str="width:"+getContainerWidth(options.fixedWidth,options.gutter,options.items),addCSSRule(sheet,"#"+slideId,str,getCssRulesLength(sheet))),(horizontal||options.gutter)&&(str=getSlideWidthStyle(options.fixedWidth,options.gutter,options.items)+getSlideGutterStyle(options.gutter),addCSSRule(sheet,"#"+slideId+" > .tns-item",str,getCssRulesLength(sheet)))}else if(innerWrapper.style.cssText=getInnerWrapperStyles(edgePadding,gutter,fixedWidth),carousel&&horizontal&&(container.style.width=getContainerWidth(fixedWidth,gutter,items)),horizontal||gutter){str=getSlideWidthStyle(fixedWidth,gutter,items)+getSlideGutterStyle(gutter);addCSSRule(sheet,"#"+slideId+" > .tns-item",str,getCssRulesLength(sheet))}if(horizontal||disable||(getSlideOffsetTops(),updateContentWrapperHeight()),responsive&&CSSMQ&&breakpoints.forEach(function(bp){var str,opts=responsive[bp],innerWrapperStr="",containerStr="",slideStr="",itemsBP=getOption("items",bp),fixedWidthBP=getOption("fixedWidth",bp),edgePaddingBP=getOption("edgePadding",bp),gutterBP=getOption("gutter",bp);("edgePadding"in opts||"gutter"in opts)&&(innerWrapperStr="#"+slideId+"-iw{"+getInnerWrapperStyles(edgePaddingBP,gutterBP,fixedWidthBP)+"}"),carousel&&horizontal&&("fixedWidth"in opts||"gutter"in opts||"items"in opts)&&(containerStr="#"+slideId+"{width:"+getContainerWidth(fixedWidthBP,gutterBP,itemsBP)+"}"),("fixedWidth"in opts||checkOption("fixedWidth")&&"gutter"in opts||!carousel&&"items"in opts)&&(slideStr+=getSlideWidthStyle(fixedWidthBP,gutterBP,itemsBP)),"gutter"in opts&&(slideStr+=getSlideGutterStyle(gutterBP)),0<slideStr.length&&(slideStr="#"+slideId+" > .tns-item{"+slideStr+"}"),0<(str=innerWrapperStr+containerStr+slideStr).length&&sheet.insertRule("@media (min-width: "+bp/16+"em) {"+str+"}",sheet.cssRules.length)}),carousel&&!disable&&doContainerTransform(),navigator.msMaxTouchPoints&&(addClass(outerWrapper,"ms-touch"),addEvents(outerWrapper,{scroll:ie10Scroll}),setSnapInterval()),hasNav){var initIndex=carousel?cloneCount:0;if(navContainer)setAttrs(navContainer,{"aria-label":"Carousel Pagination"}),navItems=navContainer.children,[].forEach.call(navItems,function(item,i){setAttrs(item,{"data-nav":i,tabindex:"-1","aria-selected":"false","aria-controls":slideItems[initIndex+i].id})});else{var navHtml="",hiddenStr=navAsThumbnails?"":" hidden";for(i=0;i<slideCount;i++)navHtml+='<button data-nav="'+i+'" tabindex="-1" aria-selected="false" aria-controls="'+slideItems[initIndex+i].id+hiddenStr+'" type="button"></button>';navHtml='<div class="tns-nav" aria-label="Carousel Pagination">'+navHtml+"</div>",outerWrapper.insertAdjacentHTML("afterbegin",navHtml),navContainer=outerWrapper.querySelector(".tns-nav"),navItems=navContainer.children}if(updateNavVisibility(),TRANSITIONDURATION){var prefix=TRANSITIONDURATION.substring(0,TRANSITIONDURATION.length-18).toLowerCase();str="transition: all "+speed/1e3+"s";prefix&&(str="-"+prefix+"-"+str),addCSSRule(sheet,"[aria-controls^="+slideId+"-item]",str,getCssRulesLength(sheet))}setAttrs(navItems[navCurrentIndex],{tabindex:"0","aria-selected":"true"}),addClass(navItems[navCurrentIndex],navActiveClass),addEvents(navContainer,navEvents),nav||hideElement(navContainer)}if(hasAutoplay){var txt=autoplay?"stop":"start";autoplayButton?setAttrs(autoplayButton,{"data-action":txt}):options.autoplayButtonOutput&&(innerWrapper.insertAdjacentHTML("beforebegin",'<button data-action="'+txt+'" type="button">'+autoplayHtmlStrings[0]+txt+autoplayHtmlStrings[1]+autoplayText[0]+"</button>"),autoplayButton=outerWrapper.querySelector("[data-action]")),autoplayButton&&addEvents(autoplayButton,{click:toggleAutoplay}),autoplay?(startAutoplay(),autoplayHoverPause&&addEvents(container,hoverEvents),autoplayResetOnVisibility&&addEvents(container,visibilityEvent)):autoplayButton&&hideElement(autoplayButton)}hasControls&&(controlsContainer?(prevButton=controlsContainer.children[0],nextButton=controlsContainer.children[1],setAttrs(controlsContainer,{"aria-label":"Carousel Navigation",tabindex:"0"}),setAttrs(prevButton,{"data-controls":"prev"}),setAttrs(nextButton,{"data-controls":"next"}),setAttrs(controlsContainer.children,{"aria-controls":slideId,tabindex:"-1"})):(outerWrapper.insertAdjacentHTML("afterbegin",'<div class="tns-controls" aria-label="Carousel Navigation" tabindex="0"><button data-controls="prev" tabindex="-1" aria-controls="'+slideId+'" type="button">'+controlsText[0]+'</button><button data-controls="next" tabindex="-1" aria-controls="'+slideId+'" type="button">'+controlsText[1]+"</button></div>"),controlsContainer=outerWrapper.querySelector(".tns-controls"),prevButton=controlsContainer.children[0],nextButton=controlsContainer.children[1]),prevIsButton=isButton(prevButton),nextIsButton=isButton(nextButton),updateControlsStatus(),addEvents(controlsContainer,controlsEvents),controls||hideElement(controlsContainer)),touch&&addEvents(container,touchEvents),mouseDrag&&addEvents(container,dragEvents),arrowKeys&&addEvents(doc,docmentKeydownEvent),"inner"===nested?events.on("outerResized",function(){resizeTasks(),events.emit("innerLoaded",info())}):(addEvents(win,{resize:onResize}),"outer"===nested&&events.on("innerLoaded",runAutoHeight)),lazyLoad(),runAutoHeight(),toggleSlideDisplayAndEdgePadding(),updateFixedWidthInnerWrapperStyle(),events.on("indexChanged",additionalUpdates),"function"==typeof onInit&&onInit(info()),"inner"===nested&&events.emit("innerLoaded",info()),disable&&disableSlider(!0),isOn=!0}();var updateIndex=loop?function(){var leftEdge=indexMin,rightEdge=indexMax;if(carousel)if(leftEdge+=slideBy,rightEdge-=slideBy,edgePadding)leftEdge+=1,rightEdge-=1;else if(fixedWidth){var gt=gutter||0;gt<vpOuter%(fixedWidth+gt)&&(rightEdge-=1)}if(rightEdge<index)for(;leftEdge+slideCount<=index;)index-=slideCount;else if(index<leftEdge)for(;index<=rightEdge-slideCount;)index+=slideCount}:function(){index=Math.max(indexMin,Math.min(indexMax,index))},transformCore=carousel?function(duration,distance){distance||(distance=getContainerTransformValue()),hasRightDeadZone&&index===indexMax&&(distance=-((fixedWidth+gutter)*slideCountNew-vpInner)+"px"),TRANSITIONDURATION||!duration?(doContainerTransform(distance),duration&&isVisible(container)||onTransitionEnd()):function(element,attr,prefix,postfix,to,duration,callback){var tick=Math.min(duration,10),unit=0<=to.indexOf("%")?"%":"px",from=(to=to.replace(unit,""),Number(element.style[attr].replace(prefix,"").replace(postfix,"").replace(unit,""))),positionTick=(to-from)/duration*tick;setTimeout(function moveElement(){duration-=tick,from+=positionTick,element.style[attr]=prefix+from+unit+postfix,0<duration?setTimeout(moveElement,tick):callback()},tick)}(container,transformAttr,transformPrefix,transformPostfix,distance,speed,onTransitionEnd),horizontal||updateContentWrapperHeight()}:function(duration){slideItemsOut=[];var eve={};eve[TRANSITIONEND]=eve[ANIMATIONEND]=onTransitionEnd,removeEvents(slideItems[indexCached],eve),addEvents(slideItems[index],eve),animateSlide(indexCached,animateIn,animateOut,!0),animateSlide(index,animateNormal,animateIn),TRANSITIONEND&&ANIMATIONEND&&duration||onTransitionEnd()};return{getInfo:info,events:events,goTo:goTo,play:function(){autoplay&&!animating&&(startAutoplay(),autoplayUserPaused=!1)},pause:function(){animating&&(stopAutoplay(),autoplayUserPaused=!0)},isOn:isOn,rebuild:function(){return tns(options)},destroy:function(){if(removeEvents(win,{resize:onResize}),removeEvents(doc,docmentKeydownEvent),sheet.disabled=!0,loop)for(var j=cloneCount;j--;)carousel&&slideItems[0].remove(),slideItems[slideItems.length-1].remove();var slideClasses=["tns-item",slideActiveClass];carousel||(slideClasses=slideClasses.concat("tns-normal",animateIn));for(var i=slideCount;i--;){var slide=slideItems[i];0<=slide.id.indexOf(slideId+"-item")&&(slide.id=""),slideClasses.forEach(function(cl){removeClass(slide,cl)})}if(removeAttrs(slideItems,["style","aria-hidden","tabindex"]),slideItems=slideId=slideCount=slideCountNew=cloneCount=null,controls&&(removeEvents(controlsContainer,controlsEvents),options.controlsContainer&&(removeAttrs(controlsContainer,["aria-label","tabindex"]),removeAttrs(controlsContainer.children,["aria-controls","aria-disabled","tabindex"])),controlsContainer=prevButton=nextButton=null),nav&&(removeEvents(navContainer,navEvents),options.navContainer&&(removeAttrs(navContainer,["aria-label"]),removeAttrs(navItems,["aria-selected","aria-controls","tabindex"])),navContainer=navItems=null),autoplay&&(clearInterval(autoplayTimer),autoplayButton&&removeEvents(autoplayButton,{click:toggleAutoplay}),removeEvents(container,hoverEvents),removeEvents(container,visibilityEvent),options.autoplayButton&&removeAttrs(autoplayButton,["data-action"])),container.id=containerIdCached||"",container.className=container.className.replace(classContainer,""),removeElementStyles(container),carousel&&TRANSITIONEND){var eve={};eve[TRANSITIONEND]=onTransitionEnd,removeEvents(container,eve)}removeEvents(container,touchEvents),removeEvents(container,dragEvents),containerParent.insertBefore(container,outerWrapper),outerWrapper.remove(),outerWrapper=innerWrapper=container=index=indexCached=items=slideBy=navCurrentIndex=navCurrentIndexCached=hasControls=visibleNavIndexes=visibleNavIndexesCached=this.getInfo=this.events=this.goTo=this.play=this.pause=this.destroy=null,this.isOn=isOn=!1}}}supportConsoleWarn&&console.warn("Slides less than 2.")}else supportConsoleWarn&&console.warn("Can't find container element.");function getWindowWidth(){return win.innerWidth||doc.documentElement.clientWidth||doc.body.clientWidth}function getViewportWidth(el){for(var width;width=el.clientWidth,el=el.parentNode,!width;);return width}function checkOption(item){var result=options[item];return!result&&breakpoints&&0<=responsiveItems.indexOf(item)&&breakpoints.forEach(function(bp){responsive[bp][item]&&(result=!0)}),result}function getOption(item,viewport){viewport=viewport||windowWidth;var result,obj={slideBy:"page",edgePadding:!1,autoHeight:!0};if(!carousel&&item in obj)result=obj[item];else if("items"===item&&getOption("fixedWidth"))result=Math.floor(vpOuter/(getOption("fixedWidth")+getOption("gutter")));else if("autoHeight"===item&&"outer"===nested)result=!0;else if(result=options[item],breakpoints&&0<=responsiveItems.indexOf(item))for(var i=0,len=breakpoints.length;i<len;i++){var bp=breakpoints[i];if(!(bp<=viewport))break;item in responsive[bp]&&(result=responsive[bp][item])}return"slideBy"===item&&"page"===result&&(result=getOption("items")),result}function getInnerWrapperStyles(edgePaddingTem,gutterTem,fixedWidthTem){var str="";if(edgePaddingTem){var gap=edgePaddingTem;gutterTem&&(gap+=gutterTem),str=fixedWidthTem?"margin: 0px "+(vpOuter%(fixedWidthTem+gutterTem)+gutterTem)/2+"px":horizontal?"margin: 0 "+edgePaddingTem+"px 0 "+gap+"px;":"padding: "+gap+"px 0 "+edgePaddingTem+"px 0;"}else if(gutterTem&&!fixedWidthTem){var gutterTemUnit="-"+gutterTem+"px";str="margin: 0 "+(horizontal?gutterTemUnit+" 0 0":"0 "+gutterTemUnit+" 0")+";"}return str}function getContainerWidth(fixedWidthTem,gutterTem,itemsTem){return fixedWidthTem?(fixedWidthTem+gutterTem)*slideCountNew+"px":CALC?CALC+"("+100*slideCountNew+"% / "+itemsTem+")":100*slideCountNew/itemsTem+"%"}function getSlideWidthStyle(fixedWidthTem,gutterTem,itemsTem){var str="";if(horizontal){if(str="width:",fixedWidthTem)str+=fixedWidthTem+gutterTem+"px";else{var dividend=carousel?slideCountNew:itemsTem;str+=CALC?CALC+"(100% / "+dividend+")":100/dividend+"%"}str+=importantStr+";"}return str}function getSlideGutterStyle(gutterTem){var str="";!1!==gutterTem&&(str=(horizontal?"padding-":"margin-")+(horizontal?"right":"bottom")+": "+gutterTem+"px;");return str}function onResize(e){e=e||win.event,clearTimeout(resizeTimer),resizeTimer=setTimeout(function(){if(isOn){var newWW=getWindowWidth();windowWidth!==newWW&&(windowWidth=newWW,resizeTasks(),"outer"===nested&&events.emit("outerResized",info(e)))}},100)}function resizeTasks(){var breakpointZoneTem=breakpointZone,indexTem=index,itemsTem=items,freezeTem=freeze;if(vpOuter=getViewportWidth(outerWrapper),vpInner=getViewportWidth(innerWrapper),breakpoints&&setBreakpointZone(),breakpointZoneTem!==breakpointZone||fixedWidth){var arrowKeysTem=arrowKeys,autoHeightTem=autoHeight,fixedWidthTem=fixedWidth,edgePaddingTem=edgePadding,gutterTem=gutter,disableTem=disable;if(items=getOption("items"),slideBy=getOption("slideBy"),disable=getOption("disable"),freeze=!!disable||!!freezable&&slideCount<=items,items!==itemsTem&&(indexMax=slideCountNew-items,updateIndex()),disable!==disableTem&&disableSlider(disable),freeze!==freezeTem&&(freeze&&(index=carousel?cloneCount:0),toggleSlideDisplayAndEdgePadding()),breakpointZoneTem!==breakpointZone&&(speed=getOption("speed"),edgePadding=getOption("edgePadding"),gutter=getOption("gutter"),fixedWidth=getOption("fixedWidth"),disable||fixedWidth===fixedWidthTem||doContainerTransform(),(autoHeight=getOption("autoHeight"))!==autoHeightTem&&(autoHeight||(innerWrapper.style.height=""))),(arrowKeys=!freeze&&getOption("arrowKeys"))!==arrowKeysTem&&(arrowKeys?addEvents(doc,docmentKeydownEvent):removeEvents(doc,docmentKeydownEvent)),hasControls){var controlsTem=controls,controlsTextTem=controlsText;controls=!freeze&&getOption("controls"),controlsText=getOption("controlsText"),controls!==controlsTem&&(controls?showElement(controlsContainer):hideElement(controlsContainer)),controlsText!==controlsTextTem&&(prevButton.innerHTML=controlsText[0],nextButton.innerHTML=controlsText[1])}if(hasNav){var navTem=nav;(nav=!freeze&&getOption("nav"))!==navTem&&(nav?(showElement(navContainer),updateNavVisibility()):hideElement(navContainer))}if(hasTouch){var touchTem=touch;(touch=!freeze&&getOption("touch"))!==touchTem&&carousel&&(touch?addEvents(container,touchEvents):removeEvents(container,touchEvents))}if(hasMouseDrag){var mouseDragTem=mouseDrag;(mouseDrag=!freeze&&getOption("mouseDrag"))!==mouseDragTem&&carousel&&(mouseDrag?addEvents(container,dragEvents):removeEvents(container,dragEvents))}if(hasAutoplay){var autoplayTem=autoplay,autoplayHoverPauseTem=autoplayHoverPause,autoplayResetOnVisibilityTem=autoplayResetOnVisibility,autoplayTextTem=autoplayText;if(freeze?autoplay=autoplayHoverPause=autoplayResetOnVisibility=!1:(autoplay=getOption("autoplay"))?(autoplayHoverPause=getOption("autoplayHoverPause"),autoplayResetOnVisibility=getOption("autoplayResetOnVisibility")):autoplayHoverPause=autoplayResetOnVisibility=!1,autoplayText=getOption("autoplayText"),autoplayTimeout=getOption("autoplayTimeout"),autoplay!==autoplayTem&&(autoplay?(autoplayButton&&showElement(autoplayButton),animating||autoplayUserPaused||startAutoplay()):(autoplayButton&&hideElement(autoplayButton),animating&&stopAutoplay())),autoplayHoverPause!==autoplayHoverPauseTem&&(autoplayHoverPause?addEvents(container,hoverEvents):removeEvents(container,hoverEvents)),autoplayResetOnVisibility!==autoplayResetOnVisibilityTem&&(autoplayResetOnVisibility?addEvents(doc,visibilityEvent):removeEvents(doc,visibilityEvent)),autoplayButton&&autoplayText!==autoplayTextTem){var i=autoplay?1:0,html=autoplayButton.innerHTML,len=html.length-autoplayTextTem[i].length;html.substring(len)===autoplayTextTem[i]&&(autoplayButton.innerHTML=html.substring(0,len)+autoplayText[i])}}if(!CSSMQ){if(freeze||edgePadding===edgePaddingTem&&gutter===gutterTem||(innerWrapper.style.cssText=getInnerWrapperStyles(edgePadding,gutter,fixedWidth)),carousel&&horizontal&&(fixedWidth!==fixedWidthTem||gutter!==gutterTem||items!==itemsTem)&&(container.style.width=getContainerWidth(fixedWidth,gutter,items)),horizontal&&(items!==itemsTem||gutter!==gutterTem||fixedWidth!=fixedWidthTem)){var str=getSlideWidthStyle(fixedWidth,gutter,items)+getSlideGutterStyle(gutter);sheet.removeRule(getCssRulesLength(sheet)-1),addCSSRule(sheet,"#"+slideId+" > .tns-item",str,getCssRulesLength(sheet))}fixedWidth||index!==indexTem||doTransform(0)}index!==indexTem&&(events.emit("indexChanged",info()),doTransform(0),indexCached=index),items!==itemsTem&&(additionalUpdates(),function(){if(!carousel){for(var l=index+Math.min(slideCount,items),i=slideCountNew;i--;){var item=slideItems[i];index<=i&&i<l?(addClass(item,"tns-moving"),item.style.left=100*(i-index)/items+"%",addClass(item,animateIn),removeClass(item,animateNormal)):item.style.left&&(item.style.left="",addClass(item,animateNormal),removeClass(item,animateIn)),removeClass(item,animateOut)}setTimeout(function(){[].forEach.call(slideItems,function(el){removeClass(el,"tns-moving")})},300)}}(),runAutoHeight(),navigator.msMaxTouchPoints&&setSnapInterval())}horizontal||disable||(getSlideOffsetTops(),updateContentWrapperHeight(),doContainerTransform()),updateFixedWidthInnerWrapperStyle(!0),runAutoHeight()}function setBreakpointZone(){breakpointZone=0,breakpoints.forEach(function(bp,i){bp<=windowWidth&&(breakpointZone=i+1)})}function toggleSlideDisplayAndEdgePadding(){var str="tns-transparent";if(freeze){if(!frozen){if(edgePadding&&(innerWrapper.style.margin="0px"),cloneCount)for(var i=cloneCount;i--;)carousel&&addClass(slideItems[i],str),addClass(slideItems[slideCountNew-i-1],str);frozen=!0}}else if(frozen){if(edgePadding&&!fixedWidth&&CSSMQ&&(innerWrapper.style.margin=""),cloneCount)for(i=cloneCount;i--;)carousel&&removeClass(slideItems[i],str),removeClass(slideItems[slideCountNew-i-1],str);frozen=!1}}function updateFixedWidthInnerWrapperStyle(resize){fixedWidth&&edgePadding&&(freeze||vpOuter<=fixedWidth+gutter?"0px"!==innerWrapper.style.margin&&(innerWrapper.style.margin="0px"):resize&&(innerWrapper.style.cssText=getInnerWrapperStyles(edgePadding,gutter,fixedWidth)))}function disableSlider(disable){var len=slideItems.length;if(disable){if(sheet.disabled=!0,container.className=container.className.replace(classContainer.substring(1),""),removeElementStyles(container),loop)for(var j=cloneCount;j--;)carousel&&hideElement(slideItems[j]),hideElement(slideItems[len-j-1]);if(horizontal&&carousel||removeElementStyles(innerWrapper),!carousel)for(var i=index,l=index+slideCount;i<l;i++){removeElementStyles(item=slideItems[i]),removeClass(item,animateIn),removeClass(item,animateNormal)}}else{if(sheet.disabled=!1,container.className+=classContainer,horizontal||getSlideOffsetTops(),doContainerTransform(),loop)for(j=cloneCount;j--;)carousel&&showElement(slideItems[j]),showElement(slideItems[len-j-1]);if(!carousel)for(i=index,l=index+slideCount;i<l;i++){var item=slideItems[i],classN=i<index+items?animateIn:animateNormal;item.style.left=100*(i-index)/items+"%",addClass(item,classN)}}}function lazyLoad(){if(lazyload&&!disable){var i=index,len=index+items;for(edgePadding&&(i-=1,len+=1);i<len;i++)[].forEach.call(slideItems[i].querySelectorAll(".tns-lazy-img"),function(img){var attr,eve={};eve[TRANSITIONEND]=function(e){e.stopPropagation()},addEvents(img,eve),hasClass(img,"loaded")||(img.src=(attr="data-src",img.getAttribute(attr)),addClass(img,"loaded"))})}}function runAutoHeight(){if(autoHeight&&!disable){for(var images=[],i=index,l=index+items;i<l;i++)[].forEach.call(slideItems[i].querySelectorAll("img"),function(img){images.push(img)});0===images.length?updateInnerWrapperHeight():function checkImagesLoaded(images){images.forEach(function(img,index){(function(img){return"boolean"==typeof img.complete?img.complete:"number"==typeof img.naturalWidth?0!==img.naturalWidth:void 0})(img)&&images.splice(index,1)});0===images.length?updateInnerWrapperHeight():setTimeout(function(){checkImagesLoaded(images)},16)}(images)}}function additionalUpdates(){lazyLoad(),function(){for(var l=index+Math.min(slideCount,items),i=slideCountNew;i--;){var item=slideItems[i];index<=i&&i<l?hasAttr(item,"tabindex")&&(setAttrs(item,{"aria-hidden":"false"}),removeAttrs(item,["tabindex"]),addClass(item,slideActiveClass)):(hasAttr(item,"tabindex")||setAttrs(item,{"aria-hidden":"true",tabindex:"-1"}),hasClass(item,slideActiveClass)&&removeClass(item,slideActiveClass))}}(),updateControlsStatus(),updateNavVisibility(),function(){if(nav&&(navCurrentIndex=-1!==navClicked?navClicked:index%slideCount,navClicked=-1,navCurrentIndex!==navCurrentIndexCached)){var navPrev=navItems[navCurrentIndexCached],navCurrent=navItems[navCurrentIndex];setAttrs(navPrev,{tabindex:"-1","aria-selected":"false"}),setAttrs(navCurrent,{tabindex:"0","aria-selected":"true"}),removeClass(navPrev,navActiveClass),addClass(navCurrent,navActiveClass)}}()}function updateInnerWrapperHeight(){for(var maxHeight,heights=[],i=index,l=index+items;i<l;i++)heights.push(slideItems[i].offsetHeight);maxHeight=Math.max.apply(null,heights),innerWrapper.style.height!==maxHeight&&(TRANSITIONDURATION&&setDurations(speed),innerWrapper.style.height=maxHeight+"px")}function getSlideOffsetTops(){slideOffsetTops=[0];for(var attr,topFirst=slideItems[0].getBoundingClientRect().top,i=1;i<slideCountNew;i++)attr=slideItems[i].getBoundingClientRect().top,slideOffsetTops.push(attr-topFirst)}function setSnapInterval(){outerWrapper.style.msScrollSnapPointsX="snapInterval(0%, "+100/items+"%)"}function isButton(el){return"button"===el.nodeName.toLowerCase()}function isAriaDisabled(el){return"true"===el.getAttribute("aria-disabled")}function disEnableElement(isButton,el,val){isButton?el.disabled=val:el.setAttribute("aria-disabled",val.toString())}function updateControlsStatus(){if(controls&&!rewind&&!loop){var prevDisabled=prevIsButton?prevButton.disabled:isAriaDisabled(prevButton),nextDisabled=nextIsButton?nextButton.disabled:isAriaDisabled(nextButton),disablePrev=index===indexMin,disableNext=!rewind&&index===indexMax;disablePrev&&!prevDisabled&&disEnableElement(prevIsButton,prevButton,!0),!disablePrev&&prevDisabled&&disEnableElement(prevIsButton,prevButton,!1),disableNext&&!nextDisabled&&disEnableElement(nextIsButton,nextButton,!0),!disableNext&&nextDisabled&&disEnableElement(nextIsButton,nextButton,!1)}}function setDurations(duration,target){duration=duration?duration/1e3+"s":"",(target=target||container).style[TRANSITIONDURATION]=duration,carousel||(target.style[ANIMATIONDURATION]=duration),horizontal||(innerWrapper.style[TRANSITIONDURATION]=duration)}function getContainerTransformValue(){var val;horizontal?val=fixedWidth?-(fixedWidth+gutter)*index+"px":100*-index/(TRANSFORM?slideCountNew:items)+"%":val=-slideOffsetTops[index]+"px";return val}function doContainerTransform(val){val||(val=getContainerTransformValue()),container.style[transformAttr]=transformPrefix+val+transformPostfix}function animateSlide(number,classOut,classIn,isOut){for(var i=number,l=number+items;i<l;i++){var item=slideItems[i];isOut||(item.style.left=100*(i-index)/items+"%"),TRANSITIONDURATION&&setDurations(speed,item),animateDelay&&TRANSITIONDELAY&&(item.style[TRANSITIONDELAY]=item.style[ANIMATIONDELAY]=animateDelay*(i-number)/1e3+"s"),removeClass(item,classOut),addClass(item,classIn),isOut&&slideItemsOut.push(item)}}function doTransform(duration,distance){isNaN(duration)&&(duration=speed),animating&&!isVisible(container)&&(duration=0),TRANSITIONDURATION&&setDurations(duration),transformCore(duration,distance)}function render(e,sliderMoved){updateIndexBeforeTransform&&updateIndex(),(index!==indexCached||sliderMoved)&&(events.emit("indexChanged",info()),events.emit("transitionStart",info()),animating&&e&&0<=["click","keydown"].indexOf(e.type)&&stopAutoplay(),running=!0,doTransform())}function strTrans(str){return str.toLowerCase().replace(/-/g,"")}function onTransitionEnd(event){if(carousel||running){if(events.emit("transitionEnd",info(event)),!carousel&&0<slideItemsOut.length)for(var i=0;i<items;i++){var item=slideItemsOut[i];item.style.left="",TRANSITIONDURATION&&setDurations(0,item),animateDelay&&TRANSITIONDELAY&&(item.style[TRANSITIONDELAY]=item.style[ANIMATIONDELAY]=""),removeClass(item,animateOut),addClass(item,animateNormal)}if(!event||!carousel&&event.target.parentNode===container||event.target===container&&strTrans(event.propertyName)===strTrans(transformAttr)){if(!updateIndexBeforeTransform){var indexTem=index;updateIndex(),index!==indexTem&&(events.emit("indexChanged",info()),TRANSITIONDURATION&&setDurations(0),doContainerTransform())}runAutoHeight(),"inner"===nested&&events.emit("innerLoaded",info()),running=!1,navCurrentIndexCached=navCurrentIndex,indexCached=index}}}function goTo(targetIndex,e){if(!freeze)if("prev"===targetIndex)onControlsClick(e,-1);else if("next"===targetIndex)onControlsClick(e,1);else if(!running){var absIndex=index%slideCount,indexGap=0;if(absIndex<0&&(absIndex+=slideCount),"first"===targetIndex)indexGap=-absIndex;else if("last"===targetIndex)indexGap=slideCount-items-absIndex;else if("number"!=typeof targetIndex&&(targetIndex=parseInt(targetIndex)),!isNaN(targetIndex)){var absTargetIndex=targetIndex%slideCount;absTargetIndex<0&&(absTargetIndex+=slideCount),indexGap=absTargetIndex-absIndex}(index+=indexGap)%slideCount!=indexCached%slideCount&&render(e)}}function onControlsClick(e,dir){if(!running){var passEventObject;if(!dir){for(var target=(e=e||win.event).target||e.srcElement;target!==controlsContainer&&[prevButton,nextButton].indexOf(target)<0;)target=target.parentNode;var targetIn=[prevButton,nextButton].indexOf(target);0<=targetIn&&(passEventObject=!0,dir=0===targetIn?-1:1)}if(rewind){if(index===indexMin&&-1===dir)return void goTo("last",e);if(index===indexMax&&1===dir)return void goTo(0,e)}dir&&(index+=slideBy*dir,render(passEventObject||e&&"keydown"===e.type?e:null))}}function setAutoplayTimer(){autoplayTimer=setInterval(function(){onControlsClick(null,autoplayDirection)},autoplayTimeout),animating=!0}function stopAutoplayTimer(){clearInterval(autoplayTimer),animating=!1}function updateAutoplayButton(action,txt){setAttrs(autoplayButton,{"data-action":action}),autoplayButton.innerHTML=autoplayHtmlStrings[0]+action+autoplayHtmlStrings[1]+txt}function startAutoplay(){setAutoplayTimer(),autoplayButton&&updateAutoplayButton("stop",autoplayText[1])}function stopAutoplay(){stopAutoplayTimer(),autoplayButton&&updateAutoplayButton("start",autoplayText[0])}function toggleAutoplay(){animating?(stopAutoplay(),autoplayUserPaused=!0):(startAutoplay(),autoplayUserPaused=!1)}function setFocus(focus){focus.focus()}function ie10Scroll(){doTransform(0,container.scrollLeft()),indexCached=index}function isTouchEvent(e){return 0<=e.type.indexOf("touch")}function preventDefaultBehavior(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function onTouchOrMouseStart(e){var ev;(moveDirectionExpected=0,touchedOrDraged=!1,startX=startY=null,running)||(isTouchEvent(e=e||win.event)?(ev=e.changedTouches[0],events.emit("touchStart",info(e))):(preventDefaultBehavior(ev=e),events.emit("dragStart",info(e))),startX=parseInt(ev.clientX),startY=parseInt(ev.clientY),translateInit=parseFloat(container.style[transformAttr].replace(transformPrefix,"").replace(transformPostfix,"")))}function onTouchOrMouseMove(e){var ev,angle,range,direction,gap;if(!running&&null!==startX&&(isTouchEvent(e=e||win.event)?ev=e.changedTouches[0]:preventDefaultBehavior(ev=e),disX=parseInt(ev.clientX)-startX,disY=parseInt(ev.clientY)-startY,0===moveDirectionExpected&&(angle=function(y,x){return Math.atan2(y,x)*(180/Math.PI)}(disY,disX),direction=!(range=15),gap=Math.abs(90-Math.abs(angle)),90-range<=gap?direction="horizontal":gap<=range&&(direction="vertical"),moveDirectionExpected=direction===options.axis),moveDirectionExpected)){isTouchEvent(e)?events.emit("touchMove",info(e)):(isDragEvent||(isDragEvent=!0),events.emit("dragMove",info(e))),touchedOrDraged||(touchedOrDraged=!0);var x=translateInit;if(horizontal)if(fixedWidth)x+=disX,x+="px";else x+=TRANSFORM?disX*items*100/(vpInner*slideCountNew):100*disX/vpInner,x+="%";else x+=disY,x+="px";TRANSFORM&&setDurations(0),container.style[transformAttr]=transformPrefix+x+transformPostfix}}function onTouchOrMouseEnd(e){if(!running&&touchedOrDraged){var ev;isTouchEvent(e=e||win.event)?(ev=e.changedTouches[0],events.emit("touchEnd",info(e))):(ev=e,events.emit("dragEnd",info(e))),disX=parseInt(ev.clientX)-startX,disY=parseInt(ev.clientY)-startY;var sliderMoved=Boolean(horizontal?disX:disY);if(moveDirectionExpected=0,touchedOrDraged=!1,startX=startY=null,horizontal){var indexMoved=-disX*items/vpInner;indexMoved=0<disX?Math.floor(indexMoved):Math.ceil(indexMoved),index+=indexMoved}else{var moved=-(translateInit+disY);if(moved<=0)index=indexMin;else if(moved>=slideOffsetTops[slideOffsetTops.length-1])index=indexMax;else for(var i=0;i++,index=disY<0?i+1:i,i<slideCountNew&&moved>=slideOffsetTops[i+1];);}if(render(e,sliderMoved),isDragEvent){isDragEvent=!1;var target=function(e){return e.target||e.srcElement}(e);addEvents(target,{click:function preventClick(e){preventDefaultBehavior(e),removeEvents(target,{click:preventClick})}})}}}function updateContentWrapperHeight(){innerWrapper.style.height=slideOffsetTops[index+items]-slideOffsetTops[index]+"px"}function updateNavVisibility(){nav&&!navAsThumbnails&&(!function(){visibleNavIndexes=[];for(var absIndexMin=index%slideCount%items;absIndexMin<slideCount;)!loop&&slideCount<absIndexMin+items&&(absIndexMin=slideCount-items),visibleNavIndexes.push(absIndexMin),absIndexMin+=items;(loop&&visibleNavIndexes.length*items<slideCount||!loop&&0<visibleNavIndexes[0])&&visibleNavIndexes.unshift(0)}(),visibleNavIndexes!==visibleNavIndexesCached&&([].forEach.call(navItems,function(el,i){visibleNavIndexes.indexOf(i)<0?hideElement(el):showElement(el)}),visibleNavIndexesCached=visibleNavIndexes))}function info(e){return{container:container,slideItems:slideItems,navContainer:navContainer,navItems:navItems,controlsContainer:controlsContainer,hasControls:hasControls,prevButton:prevButton,nextButton:nextButton,items:items,slideBy:slideBy,cloneCount:cloneCount,slideCount:slideCount,slideCountNew:slideCountNew,index:index,indexCached:indexCached,navCurrentIndex:navCurrentIndex,navCurrentIndexCached:navCurrentIndexCached,visibleNavIndexes:visibleNavIndexes,visibleNavIndexesCached:visibleNavIndexesCached,event:e||{}}}};return tns}();function getScrollBarWidth(){var inner=document.createElement("p");inner.style.width="100%",inner.style.height="200px";var outer=document.createElement("div");outer.style.position="absolute",outer.style.top="0px",outer.style.left="0px",outer.style.visibility="hidden",outer.style.width="200px",outer.style.height="150px",outer.style.overflow="hidden",outer.appendChild(inner),document.body.appendChild(outer);var w1=inner.offsetWidth;outer.style.overflow="scroll";var w2=inner.offsetWidth;return w1===w2&&(w2=outer.clientWidth),document.body.removeChild(outer),w1-w2}function getModal(callBack){for(var modalTriggers=document.querySelectorAll(".modal-trigger"),i=0;i<modalTriggers.length;i++){modalTriggers[i].addEventListener("click",function(e){var target=e.target.dataset.target,targetModal=document.querySelector("."+target);document.querySelector(".modal").classList.add("visually-hidden"),targetModal.classList.remove("visually-hidden"),document.body.classList.add("modal-open"),document.body.style.paddingRight=getScrollBarWidth()+"px",document.querySelector(".modal__frame").classList.add("active"),removeModal(),callBack&&callBack(),"gallery-modal"===target&&gallery.goTo(1)})}}function removeModal(){var modals=document.querySelectorAll(".modal");if(modals)for(var i=0;i<modals.length;i++){modals[i].addEventListener("click",function(e){e.target.classList.contains("modal__close")&&(this.classList.add("visually-hidden"),document.body.classList.remove("modal-open"),document.body.removeAttribute("style"),e.preventDefault())})}}function testModal(target,callBack){var modals=document.querySelectorAll(".modal");if(modals)for(var i=0;i<modals.length;i++){modals[i].classList.add("visually-hidden"),document.querySelector("."+target).classList.remove("visually-hidden"),removeModal(),callBack&&callBack()}}function validate(formEl,callback){var form=document.getElementById(formEl);if(form){for(var re,inputs=form.querySelectorAll("input"),textareas=form.querySelectorAll("textarea"),selects=form.querySelectorAll("select"),i=0;i<selects.length;i++)for(var options=selects[i].parentElement.querySelectorAll(".select__option"),j=0;j<options.length;j++){options[j].addEventListener("click",function(){"empty"===this.dataset.val?(this.parentElement.parentElement.classList.add("error"),form.classList.add("invalid"),console.log(this)):(this.parentElement.parentElement.classList.remove("error"),form.classList.remove("invalid"))})}function checkInputs(input){if("required"===input.dataset.required){var name=input.getAttribute("name"),type=input.getAttribute("type");if("checkbox"===type)input.checked?(input.parentElement.classList.remove("error"),form.classList.remove("invalid")):(input.parentElement.classList.add("error"),form.classList.add("invalid"));else if("radio"===type){var i,item,groupName=input.getAttribute("name"),group=document.querySelectorAll("[name="+groupName+'"]');for(i=0;i<group.length&&!group[i].checked;i++);var j=0;if(i===group.length)for(j=0;j<group.length;j++)(item=group[j]).parentElement.classList.add("error"),item.parentElement.parentElement.classList.add("error"),form.classList.add("invalid");else for(j=0;j<group.length;j++)(item=group[j]).parentElement.classList.remove("error"),item.parentElement.parentElement.classList.remove("error"),form.classList.remove("invalid")}else{if(name)switch(name){case"name":re=/^[a-zA-Zа-яА-Я]{3,20}$/,patternInput();break;case"firstName":case"lastName":re=/^[a-zA-Z]{3,20}$/,patternInput();break;case"email":case"mail":re=/^([a-zA-Z0-9_\-.]+)@([a-zA-Z0-9_\-.]+)\.([a-zA-Z]{2,5})$/,patternInput();break;case"phone":case"tel":re=/^(\+7|\+8|7|8|\+3|3)+\d?\(?\d{3}\)?\d{3}-?\d{2}-?\d{2}$/,patternInput();break;default:""===input.value?(input.classList.add("error"),form.classList.add("invalid")):(input.classList.remove("error"),form.classList.remove("invalid"))}function patternInput(){re.test(input.value)?(input.classList.remove("error"),form.classList.remove("invalid")):(input.classList.add("error"),form.classList.add("invalid"))}}}}for(var k=0;k<inputs.length;k++){var type=inputs[k].getAttribute("type"),input=inputs[k];"checkbox"===type||"radio"===type?input.addEventListener("change",function(){checkInputs(this)}):(input.addEventListener("blur",function(){checkInputs(this)}),input.addEventListener("keyup",function(){checkInputs(this)}))}for(var l=0;l<textareas.length;l++){textareas[l].addEventListener("blur",function(){checkInputs(this)})}form.addEventListener("submit",function(e){for(var k=0;k<inputs.length;k++)checkInputs(inputs[k]);for(var l=0;l<textareas.length;l++)checkInputs(textareas[l]);!function(){for(var i=0;i<selects.length;i++){var select=selects[i];"empty"===select.value?(select.parentElement.classList.add("error"),form.classList.add("invalid")):(select.parentElement.classList.remove("error"),form.classList.remove("invalid"))}}(),0<form.querySelectorAll(".error").length?e.preventDefault():callback&&callback(e)})}}getModal(),validate("form-a",function(e){testModal("thanks-modal"),e.preventDefault()}),validate("form-b",function(e){testModal("thanks-modal"),e.preventDefault()}),validate("form-c",function(e){testModal("thanks-modal"),e.preventDefault()});for(var mainSlider=document.querySelectorAll(".main-slider__holder"),i=0;i<mainSlider.length;i++){var slider=mainSlider[i];tns({container:slider,slideBy:"page",autoplay:!1,controls:!0,nav:!1,autoHeight:!0,speed:600});var btns=slider.parentElement.parentElement.querySelector(".tns-controls");slider.parentElement.parentElement.querySelector(".tns-inner").insertAdjacentElement("beforeend",btns)}var anchors=document.querySelectorAll("a.anchor");if(anchors)for(var j=0;j<anchors.length;j++)anchors[j].addEventListener("click",function(e){var link=this.getAttribute("href"),destination=document.querySelector(link).getBoundingClientRect().top+window.pageYOffset;window.scrollTo({behavior:"smooth",left:0,top:destination}),e.preventDefault()});function animateClass(target){var items=document.querySelectorAll(target);if(items)for(var i=0;i<items.length;i++){var item=items[i],itemPos=item.getBoundingClientRect().top+window.pageYOffset;window.pageYOffset-item.clientHeight/3>itemPos-window.innerHeight?item.classList.add("animate"):item.classList.remove("animate")}}var header=document.querySelector("header.header"),headerGap=0,footer=document.querySelector("footer.footer"),fixedFormColumn=document.querySelector(".form-column");function windowResize(){headerGap=1024<window.innerWidth?100:20}function windowScroll(){if(window.pageYOffset>headerGap?header.classList.add("header_fixed"):header.classList.remove("header_fixed"),fixedFormColumn)if(1024<window.innerWidth){var scrollDistance=footer.getBoundingClientRect().top+window.pageYOffset;window.pageYOffset+window.innerHeight>=scrollDistance?(fixedFormColumn.style.position="absolute",fixedFormColumn.style.bottom=0):fixedFormColumn.removeAttribute("style")}else fixedFormColumn.removeAttribute("style");animateClass(".about__map"),animateClass(".shop__inner")}window.addEventListener("scroll",function(){windowScroll()}),window.addEventListener("resize",function(){windowResize()}),document.addEventListener("DOMContentLoaded",function(){var pageHtml=document.querySelector("html"),hero=document.querySelector(".hero");pageHtml.classList.add("loaded"),setTimeout(function(){hero.classList.add("animate")},1e3),setTimeout(function(){header.classList.add("animate")},2e3),browsers(),windowScroll(),windowResize()});
//# sourceMappingURL=main.js.map
